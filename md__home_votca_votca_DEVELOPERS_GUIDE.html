<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>votca: Developers Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">votca
   &#160;<span id="projectnumber">1.5-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Developers Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>function/class summary</p><ul>
<li>The page is designed to give new developers general guidelines for implementing code consistent with the VOTCA and c++ style and standard.</li>
</ul>
<h2>Resources</h2>
<p>A good starting point is to take a look at the c++ standard. Though the code has not always consistently followed the c++ standard we now make an effort to really enforce it and follow best practices.</p>
<ul>
<li><a href="https://www.gitbook.com/book/lefticus/cpp-best-practices/details">Best Practices1</a></li>
<li><a href="https://google.github.io/styleguide/cppguide.html">Best Practices2</a></li>
</ul>
<h2>Testing</h2>
<p>Each repository contains a src folder. Within the src folder exists a library folder: libtools, libcsg etc... and a tools folder. A tests folder should also exist in the src folder. If it does not you should create one.</p>
<p>For every new object and algorithm created there should exist a test. We use the Boost libraries testing framework. Good documentation can be found here:</p>
<ul>
<li><a href="https://www.ibm.com/developerworks/aix/library/au-ctools1_boost/">Boost link</a></li>
</ul>
<p>We will outline the general workflow here using the vec object in <a class="el" href="namespacevotca_1_1tools.html">votca::tools</a>. This object only has a header file it is in: <a class="el" href="vec_8h.html">tools/include/votca/tools/vec.h</a></p>
<p>Determine if a tests folder has already been created or not in /src if it has not take a look at what was done in the votca-tools repo.</p>
<ol type="1">
<li>Create a test file in <a href="https://github.com/votca/tools/tree/master/src/tests">tools/src/tests/</a><a class="el" href="test__vec_8cc.html">test_vec.cc</a> must have the same name as what appears in the foreach in the CMakeLists.txt file. And place the following contents</li>
</ol>
<div class="fragment"><div class="line">#define BOOST_TEST_MAIN</div><div class="line"></div><div class="line">#define BOOST_TEST_MODULE vec_test</div><div class="line">#include &lt;boost/test/unit_test.hpp&gt;</div><div class="line">#include &lt;exception&gt;</div><div class="line"></div><div class="line">#include &lt;votca/tools/vec.h&gt;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line">using namespace votca::tools;</div><div class="line"></div><div class="line">BOOST_AUTO_TEST_SUITE(vec_test)</div><div class="line"></div><div class="line"></div><div class="line">BOOST_AUTO_TEST_CASE(test1){</div><div class="line">  vecv;</div><div class="line">  BOOST_CHECK_EQUAL(...);</div><div class="line">  BOOST_CHECK_EQUAL(...);</div><div class="line">  :</div><div class="line">}</div><div class="line">BOOST_AUTO_TEST_CASE(test2){</div><div class="line">  vecv;</div><div class="line">  BOOST_CHECK_EQUAL(...);</div><div class="line">  BOOST_CHECK_EQUAL(...);</div><div class="line">  :</div><div class="line">}</div><div class="line">:</div><div class="line">BOOST_AUTO_TEST_SUITE_END()</div></div><!-- fragment --><p>Replace the '...' and ':' with the appropriate syntax. For more info on which boost test macros to use refer to the boost documentation</p>
<ol type="1">
<li>To compile and test the code create a folder tools/build and run the following commands:</li>
</ol>
<div class="fragment"><div class="line">cmake -DENABLE_TESTING=ON ../</div><div class="line">make </div><div class="line">make test</div></div><!-- fragment --><p>Ensure you have an up to date version of cmake or use cmake3</p>
<h2>CPP Codeing Style Guide</h2>
<p>VOTCA uses the clang formatter to automatically ensure consistent style. The style is essentially the same, as what is used by google, with the exception that types and = are aligned to make the code more readable. Have a look at <code>.clang-format file</code> in the <a href="https://github.com/votca/votca/blob/master/.clang-format">main votca repository</a> for details.</p>
<p>To run the clang-format function on file.cc <br />
 </p><div class="fragment"><div class="line">clang-format -i -style=file file.cc</div></div><!-- fragment --><p>'-i' ensures it will make change to file.cc, omitting the '-i' will display the changes without implementing them. '-style=file' ensures the format is read from the .clang-format file otherwise it will use a default style guide.</p>
<h2>CPP Comment Guide</h2>
<p>It is preferential that the following guidelines be followed when adding comments to code:</p>
<ol type="1">
<li>The <code>/* */</code> comment blocks should be avoided and the <code>//</code> used in their place. This is so that the <code>/* */</code> comment blocks can be easily used for debugging.</li>
<li>It would be preferential that the following doxygen commenting stencil be used in the header files above each class and function description.</li>
</ol>
<div class="fragment"><div class="line">/**</div><div class="line">** Detailed function/class description if needed</div><div class="line">*</div><div class="line">* @param [in] - description of parameter 1</div><div class="line">* @param [out] - description of parameter 2</div><div class="line">* @param [in,out] - description of parameter 3</div><div class="line">* :</div><div class="line">* @return - description of return type</div><div class="line">*/</div></div><!-- fragment --><p>The doxygen commenting will help future developers maintain the code, in its fully compiled state it may be found at: <a href="http://doc.votca.org">http://doc.votca.org</a></p>
<p>NOTE: Compilation of the doxygen documentation is automated when code is merged into the master votca branch! </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
