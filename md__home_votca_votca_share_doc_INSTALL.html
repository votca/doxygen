<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>votca: VOTCA Installation Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">votca
   &#160;<span id="projectnumber">1.6-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">VOTCA Installation Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>VOTCA structure</h2>
<p>VOTCA is currently composed of four major repositories:</p>
<ul>
<li>TOOLS - general tools</li>
<li>CSG - topographical classes and course graining functionality</li>
<li>CTP - charge transport classes and functionality</li>
<li>XTP - exciton and excited states functionality GW-BSE and DFT engine</li>
</ul>
<p>TOOLS -&gt; CSG -&gt; CTP -&gt; XTP</p>
<h3>Dependency Installation</h3>
<h4>Ubuntu</h4>
<p>Dependencies for core functionality </p><pre class="fragment">apt-get install make cmake git g++ libexpat-dev libfftw3-dev libgsl-dev libboost-all-dev txt2tags libsqlite3-dev octave gnuplot python-numpy libhdf5-dev graphviz pkg-config psmisc libint2-dev libeigen3-dev libxc-dev libceres-dev libgromacs-dev gromacs-openmpi
</pre><p>Dependencies for Manual </p><pre class="fragment">apt-get install ghostscript texlive inkscape transfig texlive-latex-extra texlive-pstricks
</pre><h4>Fedora</h4>
<p>Dependencies for core functionality </p><pre class="fragment"> dnf install make cmake git gcc-c++ expat-devel fftw-devel gsl-devel boost-devel txt2tags sqlite-devel procps-ng octave gnuplot python2-numpy psmisc hdf5-devel lammps libint2-devel eigen3-devel libxc-devel ceres-solver-devel python-numpy gromacs-devel gromacs gromacs-openmpi
</pre><p>Dependencies for Manual </p><pre class="fragment"> dnf install ghostscript texlive doxygen texlive-appendix texlive-wrapfig texlive-a4wide texlive-xstring inkscape transfig texlive-units texlive-sidecap texlive-bclogo texlive-mdframed texlive-braket graphviz ImageMagick ghostscript-tools-dvipdf
</pre><h2>General (Source) Installation Instructions</h2>
<p>To install the full package: </p><pre class="fragment">prefix=WHERE/TO/INSTALL/VOTCA
version=master # or 'stable' or 'v1.4.1'
git clone -b ${version} --recursive https://github.com/votca/votca.git
cd votca
mkdir build
cd build
cmake -DBUILD_CSGAPPS=ON -DBUILD_CTP=ON -DBUILD_XTP=ON -DCMAKE_INSTALL_PREFIX=${prefix} ..
make -j5
make install
</pre><h3>Resolving the 'not found' dependency errors</h3>
<p>Assuming all the <a href="#dependency-installation">dependencies</a> have been correctly installed, one or more might still appear 'not found' upon configuring with <code>cmake</code> command (see above). In this case you will need to find out the 'non-standard' location for each missed dependency (most often a shared or dynamically loaded library, e.g. <code>libgromacs.so.*</code>, <code>libhdf5.so.*</code> etc).</p>
<p>Error messages produced by Cmake usually provide instructive suggestions for resolving dependency issues. In particular, an appropriate extra <code>-D</code> flag is necessary to specify the path to a missed package. You will have to rerun the <code>cmake</code> command with the relevant flag(s) added. For example, in the case of a locally installed version of Gromacs: </p><pre class="fragment">cmake -DBUILD_CSGAPPS=ON -DCMAKE_INSTALL_PREFIX=${prefix} -DWITH_GMX=ON -DGROMACS_INCLUDE_DIR=$HOME/gromacs/include -DGROMACS_LIBRARY=$HOME/gromacs/lib/libgromacs.so ..
</pre><p>Be careful to use exactly the option suggested in the error message! You can also add <code>-LH</code> or <code>-LAH</code> options to the <code>cmake</code> command in order to see the available options with brief explanations (note that <em>changing some of the variables may result in more variables being created</em>; run <code>man cmake</code> for more info).</p>
<p><em>Only for Linux</em>: For each dependency package not found by Cmake initially, it might be necessary to add the location of its <code>lib</code> directory to the environment variable <code>LD_LIBRARY_PATH</code>, <b>before</b> building and installing VOTCA, i.e. before running any <code>make</code> command. For example: </p><pre class="fragment">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/gromacs/lib:$HOME/anaconda/lib
</pre><p>Note that <code>LD_LIBRARY_PATH</code> also needs to be set every time when running an executable from the VOTCA installation afterwards (which can be automated via user's login profile, e.g. in .bashrc). Alternatively, CMake has options to <em>remember</em> where libraries came from at link time, which can be enabled by setting <code>CMAKE_INSTALL_RPATH_USE_LINK_PATH</code> to <code>ON</code>. VOTCA has enabled this option and a couple of other rpath related tweaks when setting <code>ENABLE_RPATH_INJECT</code> to <code>ON</code>.</p>
<h3>Common CMake Flags</h3>
<ul>
<li><code>BUILD_CSGAPPS</code> - Build the extra csg applications repo (ON/OFF, Default OFF)</li>
<li><code>BUILD_XTP</code> - Build the xtp repo (ON/OFF, Default OFF)</li>
<li><code>BUILD_CTP</code> - Build the ctp repo (ON/OFF, Default OFF)</li>
<li><code>CMAKE_INSTALL_PREFIX</code> - where to install the votca executables (Default is /usr/local/bin)</li>
<li><code>ENABLE_TESTING</code> - compile tests (ON/OFF, Default OFF)</li>
</ul>
<h3>Other CMake Flags</h3>
<ul>
<li><code>BUILD_CSG_MANUAL</code> - Build csg pdf manual</li>
<li><code>BUILD_CTP_MANUAL</code> - Build ctp pdf manual</li>
<li><code>BUILD_XTP_MANUAL</code> - Build xtp pdf manual</li>
<li><code>WITH_GMX</code> - Build with Gromacs support (ON/OFF, Default ON)</li>
<li><code>CMAKE_DISABLE_FIND_PACKAGE_&lt;name&gt;</code> - Disable using an optional package called <code>&lt;name&gt;</code> (ON/OFF)</li>
<li><code>CMAKE_DISABLE_FIND_PACKAGE_HDF5</code> - Disable using the optional package <code>HDF5</code> (ON/OFF, Default OFF; relevant only for the <code>master</code> branch)</li>
</ul>
<h2>Legacy (Source) Installation Instructions</h2>
<p>Check <a href="#dependency-installation">dependencies</a> first. Do <b>NOT</b> download anything yourself, this is done by <code>build.sh</code> below.</p>
<p>When installing for the first time, run the following commands in bash: </p><pre class="fragment">prefix=WHERE/TO/INSTALL/VOTCA
mkdir -p ${prefix}/src
cd ${prefix}/src
wget https://raw.githubusercontent.com/votca/buildutil/master/build.sh
chmod +x build.sh
./build.sh --prefix ${prefix} --dev tools csg ctp xtp
</pre><p>Replace the <em>WHERE/TO/INSTALL/VOTCA</em> with directory where you want to install votca, usually \${HOME}/votca is good choice.</p>
<p>This commands will:</p>
<ul>
<li>Create a directory, where the sources are to be stored (above <code>${prefix}/src</code>)</li>
<li>Go there</li>
<li>Download our build script</li>
<li>Make the build script executable</li>
<li>Run the build script to download all votca modules using git, it uses the development version, as xtp still undergoes extensive development and no releases are available yet.</li>
</ul>
<h2>Binary Packages for various Linux Distributions</h2>
<h3>Fedora</h3>
<pre class="fragment">dnf install votca-csg votca-xtp
</pre><h3>CentOs</h3>
<pre class="fragment">yum install epel-release
yum update
yum install votca-csg
</pre><h3>OpenSuse</h3>
<pre class="fragment">zypper install votca-csg votca-xtp
</pre><h3>SLES</h3>
<pre class="fragment">SUSEConnect -p PackageHub/12.2/x86_64
zypper install votca-csg
</pre><h3>Debian / Ubuntu</h3>
<pre class="fragment">apt-get install votca-csg
</pre><h3>Gentoo</h3>
<pre class="fragment">emerge votca-csg votca-xtp
</pre><h3>Spack</h3>
<p><a href="https://spack.io/">Spack</a> is an package manager, which allows to build VOTCA and all its dependencies: </p><pre class="fragment">git clone clone https://github.com/spack/spack.git spack
source spack/share/spack/setup-env.sh
spack install votca-csg
spack install votca-xtp
</pre><h4>Development version</h4>
<p>Spack can also install the latest development version from git using: </p><pre class="fragment">spack install votca-csg@develop
</pre><h3>Docker</h3>
<p>Votca is also available through docker and can be accessed and run with the following docker commands: </p><pre class="fragment">docker pull votca/votca
docker run -it votca/votca /bin/bash</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
